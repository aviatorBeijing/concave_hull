<!DOCTYPE html>
<html>
	<head>
		<title>Simple Map</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<meta charset="utf-8">
		<style>
			html, body, #map-canvas {
				height: 100%;
				margin: 0px;
				padding: 0px
			}
		</style>
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
		<script>
			var map;
			var markers =[];
			var iterator = 0;

			function drop() {
				for (var i = 0; i < neighborhoods.length; i++) {
					setTimeout(function() {
						addMarker();
					}, i * 150);
				}
			}

			var neighborhoods = [
			new google.maps.LatLng(39.91283,  116.343575),	
			new google.maps.LatLng(40.007492, 116.462761),	
			new google.maps.LatLng(40.000286, 116.478958),	
			new google.maps.LatLng(39.984415, 116.490152),
			new google.maps.LatLng(39.921249, 116.3458),	
			new google.maps.LatLng(39.931579, 116.376639)
			];

			function addMarker() {
				markers.push(new google.maps.Marker({
					position: neighborhoods[iterator],
					map: map,
					draggable: false,
					animation: google.maps.Animation.DROP
				}));
				iterator++;
			}

			function initialize() {
				var myLatlng = new google.maps.LatLng( 39.928231, 116.497186);
				var mapOptions = {
					zoom: 10,
					center: myLatlng,
					mapTypeId: google.maps.MapTypeId.ROADMAP
				};
				map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);

				var marker = new google.maps.Marker({
					position: myLatlng,
					map: map
				});

				var bermudaTriangle;
				var triangleCoords = [
				new google.maps.LatLng(40.464899, 115.974323),
				new google.maps.LatLng(39.953664, 116.212864),
				new google.maps.LatLng(39.890339, 116.297422),
				new google.maps.LatLng(39.856229, 116.503576),	
				new google.maps.LatLng(39.964095, 116.718802)
				];

				bermudaTriangle = new google.maps.Polygon({
					paths: triangleCoords,
					strokeColor: '#FF0000',
					strokeOpacity: 0.8,
					strokeWeight: 3,
					fillColor: 'orange',
					fillOpacity: 0.035
				});

				bermudaTriangle.setMap(map);

				var flightPlanCoordinates = [
				new google.maps.LatLng( 39.87513 , 116.449231 ),
				new google.maps.LatLng( 39.856229 , 116.503576 ),
				new google.maps.LatLng( 39.902754 , 116.361868 ),
				new google.maps.LatLng( 39.8981 , 116.339821 ),
				new google.maps.LatLng( 39.902565 , 116.37827 ),
				new google.maps.LatLng( 39.902754 , 116.361868 ),
				new google.maps.LatLng( 39.893923 , 116.418389 ),
				new google.maps.LatLng( 39.87513 , 116.449231 ),
				new google.maps.LatLng( 39.893923 , 116.418389 ),
				new google.maps.LatLng( 39.902565 , 116.37827 ),
				new google.maps.LatLng( 39.897143 , 116.329057 ),
				new google.maps.LatLng( 39.890339 , 116.297422 ),
				new google.maps.LatLng( 39.8981 , 116.339821 ),
				new google.maps.LatLng( 39.897143 , 116.329057 ),
				new google.maps.LatLng( 39.964095 , 116.718802 ),
				new google.maps.LatLng( 39.923485 , 116.589797 ),
				new google.maps.LatLng( 39.906776 , 116.559657 ),
				new google.maps.LatLng( 39.923485 , 116.589797 ),
				new google.maps.LatLng( 39.906776 , 116.559657 ),
				new google.maps.LatLng( 39.856229 , 116.503576 ),
				new google.maps.LatLng( 40.045028 , 116.595634 ),
				new google.maps.LatLng( 39.964095 , 116.718802 ),
				new google.maps.LatLng( 39.953664 , 116.212864 ),
				new google.maps.LatLng( 39.92959 , 116.264171 ),
				new google.maps.LatLng( 39.890339 , 116.297422 ),
				new google.maps.LatLng( 39.92959 , 116.264171 ),
				new google.maps.LatLng( 39.975751 , 116.236202 ),
				new google.maps.LatLng( 40.033199 , 116.277316 ),
				new google.maps.LatLng( 39.975751 , 116.236202 ),
				new google.maps.LatLng( 39.953664 , 116.212864 ),
				new google.maps.LatLng( 40.033824 , 116.309563 ),
				new google.maps.LatLng( 40.04271 , 116.339694 ),
				new google.maps.LatLng( 40.033824 , 116.309563 ),
				new google.maps.LatLng( 40.033199 , 116.277316 ),
				new google.maps.LatLng( 40.032097 , 116.413921 ),
				new google.maps.LatLng( 40.04271 , 116.339694 ),
				new google.maps.LatLng( 40.031763 , 116.416808 ),
				new google.maps.LatLng( 40.03152 , 116.433336 ),
				new google.maps.LatLng( 40.031763 , 116.416808 ),
				new google.maps.LatLng( 40.032097 , 116.413921 ),
				new google.maps.LatLng( 40.042051 , 116.592195 ),
				new google.maps.LatLng( 40.045028 , 116.595634 ),
				new google.maps.LatLng( 40.014272 , 116.467086 ),
				new google.maps.LatLng( 40.042051 , 116.592195 ),
				new google.maps.LatLng( 40.014272 , 116.467086 ),
				new google.maps.LatLng( 40.03152 , 116.433336 )				
				];
				var flightPath = new google.maps.Polyline({
					path: flightPlanCoordinates,
					geodesic: true,
					strokeColor: '#0000FF',
					strokeOpacity: 1.0,
					strokeWeight: 2
				});

				flightPath.setMap(map);

			}

			google.maps.event.addDomListener(window, 'load', initialize);
			setTimeout(function() {
				drop();
			}, 2000);

		</script>
	</head>
	<body>
		<div id="map-canvas"></div>
	</body>
</html>

